<div class="container py-4">
    <h2 class="mb-3">Inventory</h2>
    <div class="row g-3 mb-4">
        <div class="col-md-6 col-lg-4" *ngFor="let pid of productIds">
            <div class="card h-100 shadow-sm">
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title">{{ inventory[pid].name }}</h5>
                    <p class="card-text mb-1">
                        <span class="fw-bold">Price:</span> ₹{{ inventory[pid].price }}
                    </p>
                    <p class="card-text mb-2">
                        <span class="fw-bold">Stock:</span> {{ inventory[pid].stock }}
                    </p>
                    <button class="btn btn-primary mt-auto" [disabled]="inventory[pid].stock === 0"
                        (click)="addToCart(pid)">
                        Add
                    </button>
                </div>
            </div>
        </div>
    </div>

    <h2 class="mb-3">Shopping Cart</h2>
    <div *ngIf="cart.length === 0" class="alert alert-info">Cart is empty.</div>
    <div *ngIf="cart.length > 0">
        <div class="table-responsive">
            <table class="table table-bordered align-middle">
                <thead class="table-light">
                    <tr>
                        <th>Item</th>
                        <th class="text-end">Quantity</th>
                        <th class="text-end">Price</th>
                        <th class="text-end">Total</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of cart">
                        <td>{{ item.name }}</td>
                        <td class="text-end">{{ item.quantity }}</td>
                        <td class="text-end">₹{{ item.price }}</td>
                        <td class="text-end">₹{{ item.price * item.quantity }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="row justify-content-end">
            <div class="col-auto">
                <ul class="list-unstyled mb-2">
                    <li><span class="fw-bold">Subtotal:</span> ₹{{ subTotal }}</li>
                    <li><span class="fw-bold">Discount:</span> -₹{{ discount }}</li>
                    <li><span class="fw-bold">Tax:</span> +₹{{ tax }}</li>
                </ul>
                <div class="h5 mb-0"><b>Total: ₹{{ total }}</b></div>
            </div>
        </div>
    </div>
</div>